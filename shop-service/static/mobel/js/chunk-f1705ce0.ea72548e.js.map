{"version":3,"sources":["webpack:///./src/views/me/user-order.vue?f7e8","webpack:///src/views/me/user-order.vue","webpack:///./src/views/me/user-order.vue?c619","webpack:///./src/views/me/user-order.vue","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./src/api/order-api.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","handleLeftClick","model","value","callback","$$v","status","expression","_l","item","key","id","name","loading","handleOnEnd","scopedSlots","_u","fn","staticClass","_v","_s","orderNo","formatTime","insertTime","proxy","goodsName","count","pay","expressNo","_e","itemStatus","theme","staticStyle","$event","handlePreview","handlePreviewGoods","handlePay","deleteOrderBuyId","handleFallbackGoods","handleGotGoods","onSubmit","onCancel","show","reason","onPay","payShow","payForm","$set","staticRenderFns","component","$","fails","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","target","proto","forced","arg","i","k","length","len","E","A","n","arguments","TypeError","insertOrder","data","api","http","url","method","insertOrderFromBuyCar","getOrderListByUserForPage","params","findOrderByOrderNo","getGoods","fallbackGoods","updateFromTeam","password","deleteOrder"],"mappings":"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","file":"js/chunk-f1705ce0.ea72548e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{attrs:{\"title\":\"我的订单\",\"left-text\":\"返回\"},on:{\"click-left\":_vm.handleLeftClick}}),_c('van-tabs',{model:{value:(_vm.status),callback:function ($$v) {_vm.status=$$v},expression:\"status\"}},_vm._l((_vm.statusList),function(item){return _c('van-tab',{key:item.id,attrs:{\"title\":item.name,\"name\":item.id}})}),1),_c('p-page-helper',{attrs:{\"disabled\":_vm.loading},on:{\"on-end\":_vm.handleOnEnd}},_vm._l((_vm.list),function(item){return _c('van-card',{key:item.id,scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"order-title\"},[_vm._v(\" 订单编号: \"+_vm._s(item.orderNo)+\" \")]),_c('div',{staticClass:\"order-time\"},[_vm._v(\" 下单时间: \"+_vm._s(_vm.formatTime(item.insertTime))+\" \")])]},proxy:true},{key:\"desc\",fn:function(){return [_c('div',{staticClass:\"goods-name\"},[_vm._v(\" 商品名称: \"+_vm._s(item.goodsName)+\" \")]),_c('div',{staticClass:\"count\"},[_vm._v(\" 购买数量: \"+_vm._s(item.count)+\" \")]),_c('div',{staticClass:\"pay\"},[_vm._v(\" 订单金额: \"+_vm._s(item.pay)+\" \")]),(item.status == 2||item.status ==3)?_c('div',{staticClass:\"express\"},[_vm._v(\" 物流单号: \"+_vm._s(item.expressNo)+\" \")]):_vm._e(),_c('div',{staticClass:\"status\"},[_vm._v(\" 订单状态: \"),_vm._l((_vm.statusList),function(itemStatus){return [(item.status == itemStatus.id)?_c('van-tag',{key:itemStatus.id,attrs:{\"type\":itemStatus.theme}},[_vm._v(\" \"+_vm._s(itemStatus.name)+\" \")]):_vm._e()]})],2)]},proxy:true},{key:\"tags\",fn:function(){return [_c('div',{staticStyle:{\"text-align\":\"right\",\"padding\":\"10px\"}},[_c('van-button',{attrs:{\"type\":\"info\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handlePreview(item)}}},[_vm._v(\"订单详情\")]),(item.status != 0)?_c('van-button',{attrs:{\"type\":\"warning\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handlePreviewGoods(item)}}},[_vm._v(\"再次购买\")]):_vm._e(),(item.status == 0)?_c('van-button',{attrs:{\"type\":\"warning\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handlePay(item)}}},[_vm._v(\"支付\")]):_vm._e(),(item.status == 0)?_c('van-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.deleteOrderBuyId(item)}}},[_vm._v(\"取消订单\")]):_vm._e(),(item.status == 1||item.status == 3)?_c('van-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleFallbackGoods(item)}}},[_vm._v(\"申请退款\")]):_vm._e(),(item.status == 2)?_c('van-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleGotGoods(item)}}},[_vm._v(\"确认收货\")]):_vm._e()],1)]},proxy:true}],null,true)})}),1),_c('van-dialog',{attrs:{\"title\":\"退款原因\",\"show-cancel-button\":\"\"},on:{\"confirm\":_vm.onSubmit,\"cancel\":_vm.onCancel},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('van-field',{attrs:{\"border\":\"\",\"type\":\"textarea\",\"placeholder\":\"请输入退款原因\"},model:{value:(_vm.reason),callback:function ($$v) {_vm.reason=$$v},expression:\"reason\"}})],1),_c('van-dialog',{attrs:{\"title\":\"支付密码\",\"show-cancel-button\":\"\"},on:{\"confirm\":_vm.onPay},model:{value:(_vm.payShow),callback:function ($$v) {_vm.payShow=$$v},expression:\"payShow\"}},[_c('van-field',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\"},model:{value:(_vm.payForm.password),callback:function ($$v) {_vm.$set(_vm.payForm, \"password\", $$v)},expression:\"payForm.password\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div>\n\t\t<van-nav-bar\n\t\t  title=\"我的订单\"\n\t\t\tleft-text=\"返回\"\n\t\t\t @click-left=\"handleLeftClick\"\n\t\t/>\n\t\t<van-tabs v-model=\"status\">\n\t\t  <van-tab \n\t\t\t\tv-for=\"item in statusList\"\n\t\t\t\t:key=\"item.id\"\n\t\t\t\t:title=\"item.name\" \n\t\t\t\t:name=\"item.id\"></van-tab>\n\t\t</van-tabs>\n\t\t<p-page-helper @on-end=\"handleOnEnd\" :disabled=\"loading\">\n\t\t\t<van-card\n\t\t\t  v-for=\"item in list\"\n\t\t\t\t:key=\"item.id\"\n\t\t\t>\n\t\t\t  <template #title>\n\t\t\t\t\t<div class=\"order-title\">\n\t\t\t\t\t\t订单编号:\n\t\t\t\t\t\t{{item.orderNo}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"order-time\">\n\t\t\t\t\t\t下单时间:\n\t\t\t\t\t\t{{formatTime(item.insertTime)}}\n\t\t\t\t\t</div>\n\t\t\t  </template>\n\t\t\t\t<template #desc>\n\t\t\t\t\t<div class=\"goods-name\">\n\t\t\t\t\t\t商品名称:\n\t\t\t\t\t\t{{item.goodsName}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"count\">\n\t\t\t\t\t\t购买数量:\n\t\t\t\t\t\t{{item.count}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pay\">\n\t\t\t\t\t\t订单金额:\n\t\t\t\t\t\t{{item.pay}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"item.status == 2||item.status ==3\" class=\"express\">\n\t\t\t\t\t\t物流单号:\n\t\t\t\t\t\t{{item.expressNo}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"status\">\n\t\t\t\t\t\t订单状态:\n\t\t\t\t\t\t<template v-for=\"itemStatus in statusList\">\n\t\t\t\t\t\t\t<van-tag\n\t\t\t\t\t\t\t\tv-if=\"item.status == itemStatus.id\"\n\t\t\t\t\t\t\t\t:key=\"itemStatus.id\"\n\t\t\t\t\t\t\t\t:type=\"itemStatus.theme\">\n\t\t\t\t\t\t\t\t{{itemStatus.name}}\n\t\t\t\t\t\t\t</van-tag>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<template #tags>\n\t\t\t\t\t<div style=\"text-align: right;padding: 10px;\">\n\t\t\t\t\t\t<van-button type=\"info\" @click=\"handlePreview(item)\" size=\"mini\">订单详情</van-button>\n\t\t\t\t\t\t<van-button v-if=\"item.status != 0\" type=\"warning\" @click=\"handlePreviewGoods(item)\" size=\"mini\">再次购买</van-button>\n\t\t\t\t\t\t<van-button v-if=\"item.status == 0\" type=\"warning\" @click=\"handlePay(item)\" size=\"mini\">支付</van-button>\n\t\t\t\t\t\t<van-button v-if=\"item.status == 0\" type=\"danger\" \n\t\t\t\t\t\t\t@click=\"deleteOrderBuyId(item)\" \n\t\t\t\t\t\t\tsize=\"mini\">取消订单</van-button>\n\t\t\t\t\t\t<van-button v-if=\"item.status == 1||item.status == 3\" \n\t\t\t\t\t\t\ttype=\"danger\" \n\t\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\t\t@click=\"handleFallbackGoods(item)\">申请退款</van-button>\n\t\t\t\t\t\t<van-button v-if=\"item.status == 2\" type=\"primary\"\n\t\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\t\t@click=\"handleGotGoods(item)\">确认收货</van-button>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</van-card>\n\t\t</p-page-helper>\n\t\t<van-dialog v-model=\"show\"\n\t\t\ttitle=\"退款原因\" \n\t\t\tshow-cancel-button\n\t\t\t@confirm=\"onSubmit\"\n\t\t\t@cancel=\"onCancel\">\n\t\t  <van-field \n\t\t\t\tborder\n\t\t\t\tv-model=\"reason\" type=\"textarea\" placeholder=\"请输入退款原因\" />\n\t\t</van-dialog>\n\t\t\n\t\t<van-dialog v-model=\"payShow\"\n\t\t\ttitle=\"支付密码\" \n\t\t\tshow-cancel-button\n\t\t\t@confirm=\"onPay\">\n\t\t  <van-field v-model=\"payForm.password\" type=\"password\" placeholder=\"请输入密码\" />\n\t\t</van-dialog>\n\t</div>\n</template>\n\n<script>\n\timport {getOrderListByUserForPage,getGoods,fallbackGoods,updateFromTeam,deleteOrder} from '@/api/order-api.js'\n\texport default{\n\t\tmethods:{\n\t\t\thandleLeftClick(){\n\t\t\t\tthis.$router.history.go(-1)\n\t\t\t},\n\t\t\tasync getOrderListByUserForPage(){\n\t\t\t\tlet res = await getOrderListByUserForPage(this.queryForm)\n\t\t\t\tif(res.data.code == 200){\n\t\t\t\t\tthis.list = res.data.data.list\n\t\t\t\t\tthis.page = res.data.data.page\n\t\t\t\t}\n\t\t\t},\n\t\t\tasync handleOnEnd(){\n\t\t\t\tif(this.loading ==false){\n\t\t\t\t\tthis.loading = true\n\t\t\t\t}\n\t\t\t\tif(this.page.pno<this.page.pCount){\n\t\t\t\t\tthis.queryForm.pno = this.queryForm.pno+1\n\t\t\t\t\tlet res = await getOrderListByUserForPage(this.queryForm)\n\t\t\t\t\tif(res.data.code == 200){\n\t\t\t\t\t\tthis.list = this.list.concat(res.data.data.list)\n\t\t\t\t\t\tthis.page = res.data.data.page\n\t\t\t\t\t\tthis.loading = false\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\thandlePreview(item){\n\t\t\t\tthis.$router.push({path:'/order-info',query:{orderNo:item.orderNo}})\n\t\t\t},\n\t\t\thandlePreviewGoods(item){\n\t\t\t\tthis.$router.push({path:'/shop-info',query:{id:item.goodsId}})\n\t\t\t},\n\t\t\tasync handleGotGoods(item){\n\t\t\t\tlet r = await this.$dialog.confirm({\n\t\t\t\t\ttitle:'提示',\n\t\t\t\t\tmessage:'正在确认收货，请确认您的货物已收到并无问题'\n\t\t\t\t}).catch(err => err)\n\t\t\t\tif(r == 'confirm'){\n\t\t\t\t\tlet res = await getGoods(item.id)\n\t\t\t\t\tif(res.data.code == 200){\n\t\t\t\t\t\tthis.$notify({type:'success',message:res.data.msg})\n\t\t\t\t\t}\n\t\t\t\t\tawait this.getOrderListByUserForPage(this.queryForm)\n\t\t\t\t}\n\t\t\t},\n\t\t\tasync deleteOrderBuyId(item){\n\t\t\t\tlet res = await this.$dialog.confirm({\n\t\t\t\t\ttitle:'提示',\n\t\t\t\t\tmessage:'正在取消订单确认继续'\n\t\t\t\t}).catch(err => err)\n\t\t\t\tif(res == 'confirm'){\n\t\t\t\t\tawait deleteOrder(item.id)\n\t\t\t\t\tawait this.getOrderListByUserForPage()\n\t\t\t\t}\n\t\t\t\t\n\t\t\t},\n\t\t\thandleFallbackGoods(item){\n\t\t\t\tthis.reason = ''\n\t\t\t\tthis.subForm = {}\n\t\t\t\tthis.show = true\n\t\t\t\tthis.subForm = item\n\t\t\t},\n\t\t\tasync onSubmit(){\n\t\t\t\tthis.subForm.fallbackReason = this.reason\n\t\t\t\tlet res = await fallbackGoods({\n\t\t\t\t\t...this.subForm\n\t\t\t\t})\n\t\t\t\tif(res.data.code == 200){\n\t\t\t\t\tawait this.getOrderListByUserForPage(this.queryForm)\n\t\t\t\t}\n\t\t\t},\n\t\t\tonCancel(){\n\t\t\t\tconsole.log('cancel')\n\t\t\t\tthis.subForm = {}\n\t\t\t},\n\t\t\thandlePay(item){\n\t\t\t\tthis.payShow = true\n\t\t\t\tthis.payForm = item\n\t\t\t},\n\t\t\tasync onPay(){\n\t\t\t\tlet res = await updateFromTeam({\n\t\t\t\t\tid:this.payForm.id,\n\t\t\t\t\tpassword:this.payForm.password\n\t\t\t\t})\n\t\t\t\tawait this.getOrderListByUserForPage(this.queryForm)\n\t\t\t}\n\t\t\t\n\t\t},\n\t\tcomputed:{\n\t\t\tformatTime(){\n\t\t\t\treturn function(time){\n\t\t\t\t\tlet d = new Date(time);\n\t\t\t\t\treturn `${d.getFullYear()}-${d.getMonth()+1}-${d.getDate()} ${d.getHours()}:${d.getMinutes()}:${d.getSeconds()}`\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tdata(){\n\t\t\treturn {\n\t\t\t\tqueryForm:{\n\t\t\t\t\torderNo:'',\n\t\t\t\t\tpno:1,\n\t\t\t\t\tpsize:10,\n\t\t\t\t\tstatus:0\n\t\t\t\t},\n\t\t\t\treason:'',\n\t\t\t\tshow:false,\n\t\t\t\tpage:{},\n\t\t\t\tsubForm:{},\n\t\t\t\tlist:[],\n\t\t\t\tloading:false,\n\t\t\t\tpayForm:{},\n\t\t\t\tpayShow:false,\n\t\t\t\tstatusList:[\n\t\t\t\t\t{\n\t\t\t\t\t\tid:0,\n\t\t\t\t\t\tname:'待支付',\n\t\t\t\t\t\ttheme:'primary'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid:1,\n\t\t\t\t\t\tname:'已支付',\n\t\t\t\t\t\ttheme:'primary'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid:2,\n\t\t\t\t\t\tname:'已发货',\n\t\t\t\t\t\ttheme:'warning'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid:3,\n\t\t\t\t\t\tname:'确认收货',\n\t\t\t\t\t\ttheme:'success'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid:4,\n\t\t\t\t\t\tname:'申请退货',\n\t\t\t\t\t\ttheme:'danger'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid:5,\n\t\t\t\t\t\tname:'退货完毕',\n\t\t\t\t\t\ttheme:'success'\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tstatus:0\n\t\t\t}\n\t\t},\n\t\twatch:{\n\t\t\tstatus(v){\n\t\t\t\tthis.queryForm.status = v;\n\t\t\t\tthis.queryForm.pno = 1\n\t\t\t\tthis.loading = false\n\t\t\t\tthis.getOrderListByUserForPage()\n\t\t\t}\n\t\t},\n\t\tasync created(){\n\t\t\tawait this.getOrderListByUserForPage()\n\t\t},\n\t\t\n\t}\n</script>\n\n<style>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user-order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user-order.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./user-order.vue?vue&type=template&id=1292b11c&\"\nimport script from \"./user-order.vue?vue&type=script&lang=js&\"\nexport * from \"./user-order.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","import api from '../http'\n\nexport const insertOrder = (data) => {\n\treturn api.http({\n\t\turl:'/shop/order/insert',\n\t\tmethod:'put',\n\t\tdata\n\t})\n}\n\nexport const insertOrderFromBuyCar = (data) => {\n\treturn api.http({\n\t\turl:'/shop/order/insert/buy-car',\n\t\tmethod:'put',\n\t\tdata\n\t})\n}\n\nexport const getOrderListByUserForPage = (params) => {\n\treturn api.http({\n\t\turl:'/shop/order/list/page/user',\n\t\tmethod:'get',\n\t\tparams\n\t})\n}\n\n\nexport const findOrderByOrderNo = (orderNo) => {\n\treturn api.http({\n\t\turl:`/shop/order/find/orderNo/${orderNo}`,\n\t\tmethod:'get',\n\t})\n}\n\nexport const getGoods = (id) => {\n\treturn api.http({\n\t\turl:`/shop/order/get/goods`,\n\t\tmethod:'get',\n\t\tparams:{id}\n\t})\n}\n\nexport const fallbackGoods = (data) => {\n\treturn api.http({\n\t\turl:'/shop/order/fallback/goods',\n\t\tmethod:'post',\n\t\tdata\n\t})\n}\n\nexport const updateFromTeam = (params) => {\n\treturn api.http({\n\t\turl:`/shop/order/update/team/id/${params.id}/password/${params.password}`,\n\t\tmethod:'put'\n\t})\n}\n\nexport const deleteOrder = (id) => {\n\treturn api.http({\n\t\turl:`/shop/order/delete-order/id/${id}`,\n\t\tmethod:'delete'\n\t})\n}"],"sourceRoot":""}