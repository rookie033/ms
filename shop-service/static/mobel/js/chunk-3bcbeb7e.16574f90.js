(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3bcbeb7e"],{2990:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return s}));var r=n("db04"),o=function(){return r["a"].http({url:"/shop/goods-type/list/all",method:"get"})},a=function(e){return r["a"].http({url:"/shop/goods/list/page",method:"get",params:e})},i=function(e){return r["a"].http({url:"/shop/goods/find/id/".concat(e),method:"get",data:e})},s=function(){return r["a"].http({url:"/shop/goods/list/hot",method:"get"})}},"99af":function(e,t,n){"use strict";var r=n("23e7"),o=n("d039"),a=n("e8b5"),i=n("861d"),s=n("7b0b"),u=n("50c4"),c=n("8418"),d=n("65f0"),p=n("1dde"),l=n("b622"),g=n("2d00"),f=l("isConcatSpreadable"),h=9007199254740991,m="Maximum allowed index exceeded",y=g>=51||!o((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),b=p("concat"),v=function(e){if(!i(e))return!1;var t=e[f];return void 0!==t?!!t:a(e)},w=!y||!b;r({target:"Array",proto:!0,forced:w},{concat:function(e){var t,n,r,o,a,i=s(this),p=d(i,0),l=0;for(t=-1,r=arguments.length;t<r;t++)if(a=-1===t?i:arguments[t],v(a)){if(o=u(a.length),l+o>h)throw TypeError(m);for(n=0;n<o;n++,l++)n in a&&c(p,l,a[n])}else{if(l>=h)throw TypeError(m);c(p,l++,a)}return p.length=l,p}})},a2d7:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("van-nav-bar",{attrs:{title:"商城"}}),n("van-tabs",{on:{change:e.handleGoodsTypeChange},model:{value:e.queryForm.goodsTypeId,callback:function(t){e.$set(e.queryForm,"goodsTypeId",t)},expression:"queryForm.goodsTypeId"}},e._l(e.goodsTypeList,(function(e){return n("van-tab",{key:e.id,attrs:{title:e.name,name:e.id}})})),1),n("p-page-helper",{attrs:{disabled:e.loading},on:{"on-end":e.handleOnEnd}},e._l(e.list,(function(t){return n("van-card",{key:t.id,attrs:{num:t.count,price:t.price*t.discount/10,desc:t.description,title:t.name,thumb:t.logo,"origin-price":t.price},on:{click:function(n){return e.handleGoodsInfo(t)}},scopedSlots:e._u([{key:"tags",fn:function(){return[n("div",[e._v(" 销量："+e._s(t.saleCount)+" ")])]},proxy:!0}],null,!0)})})),1)],1)},o=[],a=n("1da1"),i=(n("99af"),n("96cf"),n("2990")),s={data:function(){return{goodsTypeList:[],queryForm:{goodsTypeId:"",pno:1,psize:10,isOnSale:1},list:[],page:{},loading:!1}},created:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getGoodsTypeList();case 2:return t.next=4,e.getGoodsListForPage();case 4:case"end":return t.stop()}}),t)})))()},methods:{getGoodsTypeList:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["c"])();case 2:n=t.sent,200==n.data.code&&(e.goodsTypeList=n.data.data.list,e.queryForm.goodsTypeId=e.goodsTypeList[0].id);case 4:case"end":return t.stop()}}),t)})))()},getGoodsListForPage:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["b"])(e.queryForm);case 2:n=t.sent,200==n.data.code&&(e.list=n.data.data.list,e.page=n.data.data.page);case 4:case"end":return t.stop()}}),t)})))()},handleGoodsTypeChange:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.queryForm.goodsTypeId=e,t.queryForm.pno=1,t.loading=!1,n.next=5,t.getGoodsListForPage();case 5:case"end":return n.stop()}}),n)})))()},handleOnEnd:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0==e.loading&&(e.loading=!0),!(e.page.pno<e.page.pCount)){t.next=7;break}return e.queryForm.pno=e.queryForm.pno+1,t.next=5,Object(i["b"])(e.queryForm);case 5:n=t.sent,200==n.data.code&&(e.list=e.list.concat(n.data.data.list),e.page=n.data.data.page,e.loading=!1);case 7:case"end":return t.stop()}}),t)})))()},handleGoodsInfo:function(e){console.log(e.id),this.$router.push({path:"/shop-info",query:{id:e.id}})}}},u=s,c=n("2877"),d=Object(c["a"])(u,r,o,!1,null,null,null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-3bcbeb7e.16574f90.js.map