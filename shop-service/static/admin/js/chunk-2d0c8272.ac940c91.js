(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c8272"],{5452:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-page-header",{attrs:{content:"批量增加优惠券信息"},on:{back:e.handleBack}}),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"auto",rules:e.rules}},[r("el-form-item",{attrs:{size:"mini",prop:"count",label:"数量"}},[r("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.addForm.count,callback:function(t){e.$set(e.addForm,"count",e._n(t))},expression:"addForm.count"}})],1),r("el-form-item",{attrs:{size:"mini",prop:"name",label:"优惠券名称"}},[r("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name","string"===typeof t?t.trim():t)},expression:"addForm.name"}})],1),r("el-form-item",{attrs:{size:"mini",prop:"price",label:"优惠券价格(满减券为减免金额)"}},[r("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.addForm.price,callback:function(t){e.$set(e.addForm,"price",e._n(t))},expression:"addForm.price"}})],1),r("el-form-item",{attrs:{size:"mini",prop:"totalPrice",label:"优惠券实际价值(满减券为门槛价格)"}},[r("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.addForm.totalPrice,callback:function(t){e.$set(e.addForm,"totalPrice",e._n(t))},expression:"addForm.totalPrice"}})],1),r("el-form-item",{attrs:{size:"mini",prop:"targetTime",label:"到期时间"}},[r("el-date-picker",{attrs:{placeholder:"请选择日期",clearable:"",type:"date","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.addForm.targetTime,callback:function(t){e.$set(e.addForm,"targetTime",t)},expression:"addForm.targetTime"}})],1),r("el-form-item",{attrs:{size:"mini",prop:"couponTypeId",label:"优惠券类型"}},[r("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.addForm.couponTypeId,callback:function(t){e.$set(e.addForm,"couponTypeId","string"===typeof t?t.trim():t)},expression:"addForm.couponTypeId"}},e._l(e.couponTypeList,(function(e){return r("el-option",{key:""+e.id,attrs:{label:e.name,value:e.id}})})),1)],1),r("el-form-item",{attrs:{size:"mini",prop:"remark",label:"优惠券备注"}},[r("el-input",{attrs:{"show-word-limit":"",maxlength:"300",type:"textarea",placeholder:"请输入",clearable:""},model:{value:e.addForm.remark,callback:function(t){e.$set(e.addForm,"remark",e._n(t))},expression:"addForm.remark"}})],1),r("el-form-item",{attrs:{size:"mini"}},[r("el-button",{attrs:{loading:e.subLoading,type:"primary"},on:{click:e.handleAdd}},[e._v("提交")])],1)],1)],1)],1)],1)},o=[],n=r("5530"),i=r("1da1"),l=(r("c975"),r("b0c0"),r("d3b7"),r("96cf"),r("2f62")),d={name:"goods-add",data:function(){return{rules:{name:[{required:!0,message:"请输入优惠券名称"}],price:[{required:!0,validator:function(e,t,r){t<0?r("优惠券price不能为负数"):r()}}],totalPrice:[{required:!0,validator:function(e,t,r){t<0?r("优惠券的totalPrice不能为负数"):r()}}],couponTypeId:[{required:!0,message:"请选择优惠券类型"}],targetTime:[{required:!0,message:"到期时间不可以为空"}],count:[{required:!0,message:"请输入数量"},{required:!0,validator:function(e,t,r){t<1||t>100?r(new Error("创建卡的数量只能是1-100")):r()}}]},fileList:[],fileList1:[],addForm:{name:"",count:0,price:0,couponTypeId:"",targetTime:"",remark:"",totalPrice:0},subLoading:!1}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getCouponTypeListAll();case 2:case"end":return t.stop()}}),t)})))()},computed:Object(n["a"])({},Object(l["e"])("couponModel",["couponTypeList"])),methods:Object(n["a"])(Object(n["a"])({},Object(l["b"])("couponModel",["getCouponTypeListAll","insertMultiple"])),{},{handleBack:function(){this.$router.history.go(-1)},handleAdd:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.addForm.validate()["catch"]((function(e){return e}));case 2:if(r=t.sent,!r){t.next=9;break}return e.subLoading=!0,t.next=7,e.insertMultiple(e.addForm);case 7:e.subLoading=!1,e.handleBack();case 9:case"end":return t.stop()}}),t)})))()},handleBeforeUpload:function(e){if(-1==e.name.indexOf("png")&&-1==e.name.indexOf("jpg")&&-1==e.name.indexOf("jpeg")&&-1==e.name.indexOf("gif"))return this.$notify({title:"提示",message:"只能上传图片格式的文件",type:"error"}),Promise.reject()},handleError:function(e){this.$notify({title:"提示",message:"上传logo失败",type:"error"})},handleError1:function(e){this.$notify({title:"提示",message:"上传优惠券图片失败",type:"error"})}})},c=d,s=r("2877"),m=Object(s["a"])(c,a,o,!1,null,"2e54d3d4",null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d0c8272.ac940c91.js.map