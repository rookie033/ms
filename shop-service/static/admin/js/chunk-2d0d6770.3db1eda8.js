(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d6770"],{7353:function(e,r,a){"use strict";a.r(r);var t=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",[a("el-page-header",{attrs:{content:"增加商城会员信息"},on:{back:e.handleBack}}),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"auto",rules:e.rules}},[a("el-form-item",{attrs:{size:"mini",prop:"username",label:"账号"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.addForm.username,callback:function(r){e.$set(e.addForm,"username","string"===typeof r?r.trim():r)},expression:"addForm.username"}})],1),a("el-form-item",{attrs:{size:"mini",prop:"phone",label:"手机号"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.addForm.phone,callback:function(r){e.$set(e.addForm,"phone","string"===typeof r?r.trim():r)},expression:"addForm.phone"}})],1),a("el-form-item",{attrs:{size:"mini",prop:"password",label:"密码"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.addForm.password,callback:function(r){e.$set(e.addForm,"password","string"===typeof r?r.trim():r)},expression:"addForm.password"}})],1),a("el-form-item",{attrs:{size:"mini",prop:"nickname",label:"昵称"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.addForm.nickname,callback:function(r){e.$set(e.addForm,"nickname","string"===typeof r?r.trim():r)},expression:"addForm.nickname"}})],1),a("el-form-item",{attrs:{size:"mini",prop:"sex",label:"性别"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.addForm.sex,callback:function(r){e.$set(e.addForm,"sex","string"===typeof r?r.trim():r)},expression:"addForm.sex"}},[a("el-option",{attrs:{value:0,label:"男"}}),a("el-option",{attrs:{value:1,label:"女"}})],1)],1),a("el-form-item",{attrs:{size:"mini",label:"头像",prop:"face"}},[a("p-upload",{attrs:{"list-type":"picture-card",limit:1,action:"/log/file/upload","before-upload":e.handleBeforeUpload,"on-error":e.handleError},model:{value:e.fileList,callback:function(r){e.fileList=r},expression:"fileList"}})],1),a("el-form-item",{attrs:{size:"mini"}},[a("el-button",{attrs:{loading:e.subLoading,type:"primary"},on:{click:e.handleAdd}},[e._v("提交")])],1)],1)],1)],1)],1)},n=[],i=a("5530"),s=a("1da1"),o=(a("c975"),a("b0c0"),a("d3b7"),a("96cf"),a("2f62")),l={name:"user-add",data:function(){var e=this;return{rules:{username:[{required:!0,message:"账号不可以为空"}],phone:[{required:!0,message:"手机号不可以为空"}],sex:[{required:!0,message:"性别不可以为空"}],birthday:[{required:!0,message:"生日不可以为空"}],password:[{required:!0,message:"密码不可以为空"}],nickname:[{required:!0,message:"昵称不可以为空"}],userTypeId:[{required:!0,message:"角色不可以为空"}],face:[{required:!0,validator:function(r,a,t){e.fileList.length>0&&void 0!=e.fileList[0].url?t():t(new Error("请上传一个头像"))}}]},fileList:[],addForm:{username:"",password:"",nickname:"",userTypeId:"",birthday:"",phone:"",sex:"",face:""},subLoading:!1}},created:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},computed:Object(i["a"])({},Object(o["e"])("shopUserModel",["userTypeList"])),methods:Object(i["a"])(Object(i["a"])({},Object(o["b"])("shopUserModel",["getUserTypeListAll","insert"])),{},{handleBack:function(){this.$router.history.go(-1)},handleAdd:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.$refs.addForm.validate()["catch"]((function(e){return e}));case 2:if(a=r.sent,!a){r.next=11;break}return e.addForm.face=e.fileList[0].url,e.subLoading=!0,r.next=8,e.insert(e.addForm);case 8:r.sent,e.subLoading=!1,e.handleBack();case 11:case"end":return r.stop()}}),r)})))()},handleBeforeUpload:function(e){if(-1==e.name.indexOf("png")&&-1==e.name.indexOf("jpg")&&-1==e.name.indexOf("jpeg")&&-1==e.name.indexOf("gif"))return this.$notify({title:"提示",message:"只能上传图片格式的文件",type:"error"}),Promise.reject()},handleError:function(e){this.$notify({title:"提示",message:"上传失败",type:"error"})}})},d=l,c=a("2877"),m=Object(c["a"])(d,t,n,!1,null,"0f139e85",null);r["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d0d6770.3db1eda8.js.map